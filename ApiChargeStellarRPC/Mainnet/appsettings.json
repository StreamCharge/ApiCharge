{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Information"
    }
  },
  "CacheSettings": {
    "PersistenceIntervalSeconds": 300,
    "UseRedis": true,
    "Redis": {
      "ConnectionString": "localhost:6379",
      "InstanceName": "ApiCharge_StellarRPC_"
    },
    "MemoryCache": {
      "SizeLimit": 1024
    }
  },
  "Kestrel": {
    "EndpointDefaults": {
      "Protocols": "Http1AndHttp2"
    },
    "Endpoints": {
      "Http": {
        "Url": "http://+:80",
        "Protocols": "Http1AndHttp2"
      },
      "Https": {
        "Url": "https://+:443",
        "Protocols": "Http1AndHttp2",
        "Certificate": {
          "Path": "/certs/certificate.pfx",
          "Password": "YOUR_CERTIFICATE_PASSWORD"
        }
      }
    }
  },
  "AllowedHosts": "*",
  "ApiChargeProxy": {
    "Global": {
      "UseNetwork": "Mainnet",
      "ToleratedClockSkew": "00:00:00",
      "QuoteValidityDuration": "01:00:00",
      "SigningKeyEnvironmentVariable": "APICHARGE_SIGNING_KEY",
      "StellarEndpointRPC": "http://localhost:8000",
      "StellarNetwork": "public",
      "AllowSelfSignedServerCertificates": true,
      "AllowedServerCertificateThumbprints": [],
      "AllowedServerCertificateIssuers": [],
      "StablecoinNativeClassicFeeBumpMaxFee": 20000,
      "StablecoinNativeSorobanFeeBumpMaxFee": 500000,
      "StablecoinNativeBaseReserve": 1.0,
      "StablecoinNativeUsdcIssuer": "GA5ZSEJYB37JRC5AVCIA5MOP4RHTM335X2KGX3IHOJAPP5RE34K4KZVN",
      "StablecoinNativeEurcIssuer": "GDHU6WRG4IEQXM5NZ4BMPKOXHW76MZM4Y2IEMFDVXBSDP6SJY4ITNPP2",
      "StablecoinNativeTransactionTimeout": 300,
      "EnableStablecoinNativeEndpoints": true,
      "WelcomeHtmlPath": "config/welcome.html"
    },
    "Clusters": {
      "soroban-cluster": {
        "Destinations": {
          "rpc": {
            "Address": "http://127.0.0.1:8000/"
          }
        }
      },
      "internal-endpoints-cluster": {
        "Destinations": {
          "localhost-internal": {
            "Address": "http://localhost/"
          }
        }
      }
    },
    "Routes": {
      "stellar-rpc-developer": {
        "ClusterId": "soroban-cluster",
        "Match": {
          "Path": "/soroban/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": "/soroban"
          }
        ],
        "Metadata": {
          "Description": "Stellar Soroban RPC",
          "Quote0Name": "Developer",
          "Quote1Name": "Startup"
        },
        "Quotes": [
          {
            "ServerFundsRecipient": "GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWHF",
            "Currency": 1,
            "PricingStrategy": {
              "$type": "Basic",
              "Duration": 43200,
              "MicroUnitPrice": 250000
            },
            "RateLimiterStrategies": [
              {
                "$type": "CallCount",
                "Count": 5000
              },
              {
                "$type": "StreamRateDownload",
                "BytesPerSecond": 50000,
                "WindowDurationInSeconds": 300
              }
            ]
          },
          {
            "ServerFundsRecipient": "GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWHF",
            "Currency": 1,
            "PricingStrategy": {
              "$type": "Basic",
              "Duration": 604800,
              "MicroUnitPrice": 2500000
            },
            "RateLimiterStrategies": [
              {
                "$type": "CallCount",
                "Count": 100000
              },
              {
                "$type": "StreamRateDownload",
                "BytesPerSecond": 50000,
                "WindowDurationInSeconds": 300
              }
            ]
          }
        ]
      },
      "stablecoin-submit-classic-tx": {
        "ClusterId": "internal-endpoints-cluster",
        "Match": {
          "Path": "/apicharge/stablecoin/{action:regex(^(prepare-soroban-transaction|submit-transaction)$)}",
          "Methods": [
            "POST"
          ]
        },
        "Transforms": [
          {
            "PathPattern": "/internal/stablecoin/{action}"
          },
          {
            "RequestHeaderOriginalHost": "true"
          }
        ],
        "Metadata": {
          "Name": "Stablecoin Native - Classic Transactions",
          "Description": "Submit classic (non-Soroban) transactions with fee sponsorship - 500 calls, 12hr - $0.10"
        },
        "Quotes": [
          {
            "ServerFundsRecipient": "GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWHF",
            "Currency": 1,
            "PricingStrategy": {
              "$type": "Basic",
              "Duration": 43200,
              "MicroUnitPrice": 100000
            },
            "RateLimiterStrategies": [
              {
                "$type": "CallCount",
                "Count": 500
              }
            ]
          }
        ]
      },
      "stablecoin-submit-soroban-tx": {
        "ClusterId": "internal-endpoints-cluster",
        "Match": {
          "Path": "/apicharge/stablecoin/submit-soroban-transaction",
          "Methods": [
            "POST"
          ]
        },
        "Transforms": [
          {
            "PathPattern": "/internal/stablecoin/submit-soroban-transaction"
          },
          {
            "RequestHeaderOriginalHost": "true"
          }
        ],
        "Metadata": {
          "Name": "Stablecoin Native - Soroban Transactions",
          "Description": "Submit Soroban smart contract transactions with fee sponsorship (max 500K stroops) - 100 calls, 1hr - $1.00"
        },
        "Quotes": [
          {
            "ServerFundsRecipient": "GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWHF",
            "Currency": 1,
            "PricingStrategy": {
              "$type": "Basic",
              "Duration": 3600,
              "MicroUnitPrice": 1000000
            },
            "RateLimiterStrategies": [
              {
                "$type": "CallCount",
                "Count": 100
              }
            ]
          }
        ]
      },
      "stablecoin-activate-account": {
        "ClusterId": "internal-endpoints-cluster",
        "Match": {
          "Path": "/apicharge/stablecoin/activate-account",
          "Methods": [
            "POST"
          ]
        },
        "Transforms": [
          {
            "PathPattern": "/internal/stablecoin/activate-account"
          },
          {
            "RequestHeaderOriginalHost": "true"
          }
        ],
        "Metadata": {
          "Name": "Stablecoin Native - Activate Account",
          "Description": "Activate new Stellar account with XLM base reserve and USDC/EURC trustlines - 1 activation - $1.00"
        },
        "Quotes": [
          {
            "ServerFundsRecipient": "GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWHF",
            "Currency": 1,
            "PricingStrategy": {
              "$type": "Basic",
              "Duration": 86400,
              "MicroUnitPrice": 1000000
            },
            "RateLimiterStrategies": [
              {
                "$type": "CallCount",
                "Count": 1
              }
            ]
          }
        ]
      },
      "stablecoin-get-tx-status": {
        "ClusterId": "internal-endpoints-cluster",
        "Match": {
          "Path": "/apicharge/stablecoin/get-transaction-status",
          "Methods": [
            "POST"
          ]
        },
        "Transforms": [
          {
            "PathPattern": "/internal/stablecoin/get-transaction-status"
          },
          {
            "RequestHeaderOriginalHost": "true"
          }
        ],
        "Metadata": {
          "Name": "Stablecoin Native - Get Transaction Status",
          "Description": "Query transaction status on Stellar network - 500 queries, 12hr - $0.05"
        },
        "Quotes": [
          {
            "ServerFundsRecipient": "GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWHF",
            "Currency": 1,
            "PricingStrategy": {
              "$type": "Basic",
              "Duration": 43200,
              "MicroUnitPrice": 50000
            },
            "RateLimiterStrategies": [
              {
                "$type": "CallCount",
                "Count": 500
              }
            ]
          }
        ]
      }
    }
  }
}
